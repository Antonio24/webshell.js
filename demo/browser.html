<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>webshell.js</title>
    <script src="../dist/webshell.js"></script>
    <script src="../dist/webshell-util.js"></script>
    <style media="screen">
      * {
        font-family: monospace;
        font-size: 18px;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      .webshell {
        box-sizing: border-box;
        height: 100vh;
        background-color: #000;
        cursor: text;
        padding: 0.5em;
        overflow-y: scroll;
        color: #fff
      }
      .prompt {
        margin-top: 1em;
      }
      .prompt:first-child {
        margin-top: 0;
      }
      @media (min-width: 30em) {
        .prompt {
          margin-top: inherit;
          float: left;
          margin-right: 0.2em;
        }
      }
      .input {
        position: relative;
        display: flex;
        outline: none;
        padding-left: 1em;
      }
      .input:before {
        position: absolute;
        left: 0em;
        content: '$';
        color: #777;
      }
      .input-current:before {
        color: #c0253e;
      }
      .response {
        clear: both;
        white-space: pre-wrap;
        margin-bottom: 0.2em;
        min-height: 1em;
      }
      @media (min-width: 30em) {
        .response {
          min-height: inherit;
        }
      }
      .list {
        padding-left: 0;
        margin: 0;
        column-width: 10em;
        column-gap: 3em;
      }
      .list-item {
        list-style-type: none;
        word-wrap: break-word;
      }
      .text { color: #fff }
      .text-green { color: #65c858 }
      .text-yellow { color: #cac43b }
      .text-lightgray { color: #999 }
    </style>
  </head>
  <body>
    <div id="webshell" class="webshell"></div>

    <script type="text/javascript">
      const id = 'webshell'
      const refresh = window.location.href.search(/\?refresh/) === -1 ? false : true
      if (refresh) {
        webshellDeleteState(id)
        window.location = window.location.href.split('?')[0]
      }
      const defaultState = webshellDefaultState()
      const savedState = webshellReadState(id)
      const initialState = Object.assign({}, defaultState, savedState)
      const webshell = createWebshell(id, initialState)
    </script>
  </body>
</html>
